(this.webpackJsonpprobando=this.webpackJsonpprobando||[]).push([[0],{45:function(e,c,t){},46:function(e,c,t){},47:function(e,c,t){},53:function(e,c,t){},54:function(e,c,t){},55:function(e,c,t){},57:function(e,c,t){},58:function(e,c,t){},59:function(e,c,t){},60:function(e,c,t){},61:function(e,c,t){},62:function(e,c,t){},63:function(e,c,t){"use strict";t.r(c);var n=t(5),i=t.n(n),r=t(39),j=t.n(r),a=(t(45),t(46),t(47),t(20)),s=t(9),d=t(3),o=i.a.createContext([]),b=function(e){var c=e.children,t=Object(n.useState)([]),i=Object(s.a)(t,2),r=i[0],j=i[1];return Object(d.jsx)(o.Provider,{value:{productAdd:{item:r},setProductAdd:function(e,c){if(r.some((function(c){return c.id===e.id}))){var t=r.findIndex((function(c){return c.id===e.id})),n=Object(a.a)(r);n[t].count+=c,j(n)}else j((function(c){return[].concat(Object(a.a)(c),[e])}))},totalCount:function(){var e=0;return r.forEach((function(c){e+=c.count})),e},totalPrice:function(){var e=0;return r.forEach((function(c){e+=c.price*c.count})),e},deleteProd:function(e){var c=r.findIndex((function(c){return c.nombre===e})),t=Object(a.a)(r);t.splice(c,1),j(t)},clearCart:function(){j([])}},children:c})},l=o,O=t(23),u=t(24),x=function(){var e=(0,Object(n.useContext)(l).totalCount)();return Object(d.jsx)("div",{className:"cartWidgetContainer",children:Object(d.jsxs)("div",{className:"cartWidget",children:[Object(d.jsx)(O.a,{icon:u.b}),Object(d.jsx)("p",{children:e})]})})},h=t(14),f=function(){return Object(d.jsxs)("div",{className:"navContainer",children:[Object(d.jsx)("div",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:"Tienda"})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:Object(d.jsx)(O.a,{icon:u.a})})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Login",children:"Login"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Cart",children:Object(d.jsx)(x,{})})}),Object(d.jsx)("div",{})]})]})},m=t(25),v=(t(53),t(54),t(55),function(e){var c=e.stock,t=e.onConfirm,i=Object(n.useState)(0),r=Object(s.a)(i,2),j=r[0],a=r[1],o=Object(n.useState)(!0),b=Object(s.a)(o,2),l=b[0],O=b[1];return Object(d.jsx)(d.Fragment,{children:l?Object(d.jsx)("div",{className:"countContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){j>0&&a(j-=1)},children:"-"})}),Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:j})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){j<c&&a(j+=1)},children:"+"})})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){t(j),0!==j&&O(!1)},children:"Agregar al carrito"})})]})}):Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Cart",className:"finCompra",children:"Terminar la compra"})})})}),p=function(e){var c=e.products,t=Object(n.useContext)(l).setProductAdd;return Object(d.jsxs)("div",{className:"cardL",children:[Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/item/".concat(c.id),children:Object(d.jsx)("img",{src:c.image,alt:""})})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:c.name})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:["Precio: $",c.price]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(h.b,{to:"/item/".concat(c.id),children:"Detalle"}),Object(d.jsx)(v,{stock:c.stock,onConfirm:function(e){if(0!==e){var n=c.image,i=c.name,r=c.price,j=c.id;t({image:n,name:i,price:r,id:j,count:e},e)}}})]})]})},g=function(e){var c=e.products;return Object(d.jsx)(d.Fragment,{children:c.map((function(e){return Object(d.jsx)(p,{products:e},e.id)}))})},C=t(12),N=t(15),y=t(40),S=Object(y.a)({apiKey:"AIzaSyDB9Q5HbemxXL4hlTvf8NHtA3UgaULF-Cs",authDomain:"app-react-js.firebaseapp.com",projectId:"app-react-js",storageBucket:"app-react-js.appspot.com",messagingSenderId:"352891839178",appId:"1:352891839178:web:bcef88f7f37ce8313aca33"}),P=Object(N.f)(S),k=function(){var e=Object(n.useState)([]),c=Object(s.a)(e,2),t=c[0],i=c[1],r=Object(n.useState)(!0),j=Object(s.a)(r,2),a=j[0],o=j[1],b=Object(C.g)().categoryId;return Object(n.useEffect)((function(){return b?(o(!0),Object(N.e)(Object(N.g)(Object(N.b)(P,"products"),Object(N.h)("category","==",b))).then((function(e){var c=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));o(c)})).catch((function(e){console.log("Error al buscar los productos",e)})).finally((function(){o(!1)}))):(o(!0),Object(N.e)(Object(N.b)(P,"products")).then((function(e){var c=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));i(c)})).catch((function(e){console.log("Error buscando los items",e)})).finally((function(){o(!1)}))),function(){i([])}}),[b]),Object(d.jsx)(d.Fragment,{children:a?Object(d.jsx)("div",{className:"preloaderL",children:Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{icon:u.a})})}):Object(d.jsxs)("div",{className:"itemListContainer",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(h.b,{to:"/category/cucha",children:"Cucha"}),Object(d.jsx)(h.b,{to:"/category/comedero",children:"Comedero"}),Object(d.jsx)(h.b,{to:"/category/herramienta",children:"Herramienta"})]})}),Object(d.jsx)(g,{products:t})]})})},I=(t(57),t(58),t(59),function(e){var c=e.products;return Object(d.jsxs)("div",{className:"cardD",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:c.image,alt:""})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:c.name})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:["Precio: $",c.price]})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:c.description})})]})}),E=function(e){var c=e.products,t=Object(n.useContext)(l).setProductAdd;return Object(d.jsxs)("div",{className:"cardContainer",children:[Object(d.jsx)(I,{products:c},c.id),Object(d.jsx)(v,{stock:c.stock,onConfirm:function(e){if(0!==e){var n=c.image,i=c.name,r=c.price,j=c.id;t({image:n,name:i,price:r,id:j,count:e},e)}}})]})},F=function(){var e=Object(n.useState)([]),c=Object(s.a)(e,2),t=c[0],i=c[1],r=Object(n.useState)(!0),j=Object(s.a)(r,2),a=j[0],o=j[1],b=Object(C.g)().paramId;return Object(n.useEffect)((function(){o(!0),Object(N.d)(Object(N.c)(P,"products",b)).then((function(e){var c=Object(m.a)({id:e.id},e.data());i(c)})).catch((function(e){console.log("Error al buscar los productos",e)})).finally((function(){o(!1)}))}),[b]),Object(d.jsx)("div",{className:"itemDetailContainer",children:a?Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{icon:u.a})})}):Object(d.jsx)(E,{products:t})})},L=(t(60),t(61),function(e){var c=e.products,t=c.image,i=c.name,r=c.price,j=c.count,a=Object(n.useContext)(l).deleteProd;return Object(d.jsx)("div",{className:"cardCart",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"cardCartImg",children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t,alt:""})})}),Object(d.jsxs)("div",{className:"cardCartNombre",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:i})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){return a(i)},children:"Eliminar"})})]}),Object(d.jsx)("div",{className:"cardCartCantidad",children:Object(d.jsxs)("p",{children:["Cantidad: ",j]})}),Object(d.jsx)("div",{className:"cardCartPrecio",children:Object(d.jsxs)("p",{children:["Precio unitario: $",r]})})]})})}),A=function(){var e=Object(n.useContext)(l),c=e.productAdd,t=e.totalPrice,i=e.clearCart,r=c.item,j=Object(n.useState)(!1),a=Object(s.a)(j,2),o=a[0],b=a[1],O=Object(n.useRef)(""),u=Object(n.useRef)(""),x=Object(n.useRef)("");return Object(n.useEffect)((function(){b(!1),0===r.length?b(!1):b(!0)}),[r]),Object(d.jsx)(d.Fragment,{children:o?Object(d.jsx)("div",{className:"cartContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:r.map((function(e,c){return Object(d.jsx)(L,{products:e},"".concat(r.id).concat(c))}))}),Object(d.jsxs)("div",{className:"cartFormContainer",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Informacion de contacto."})}),Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{type:"text",ref:O,placeholder:"Nombre"}),Object(d.jsx)("input",{type:"text",ref:u,placeholder:"Tel\xe9fono"}),Object(d.jsx)("input",{type:"text",ref:x,placeholder:"Mail"})]})]}),Object(d.jsx)("div",{className:"cartPaymentContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Total: $ ",t()]}),Object(d.jsx)(h.b,{to:"/ReactJS",children:"Seguir comprando"}),Object(d.jsx)("button",{onClick:function(){return function(){var e={buyer:{name:O.current.value,phone:u.current.value,email:x.current.value},items:r,total:t()},c=Object(N.i)(P),n=[];e.items.forEach((function(e){Object(N.d)(Object(N.c)(P,"products",e.id)).then((function(t){t.data().stock>=e.count?c.update(Object(N.c)(P,"products",t.id),{stock:t.data().stock-e.count}):(n.push(Object(m.a)({id:t.id},t.data())),console.log(n))}))})),0===n.length&&Object(N.a)(Object(N.b)(P,"orders"),e).then((function(e){var t=e.id;c.commit().then((function(){console.log(t)}))})),setTimeout((function(){i()}),1e3)}()},children:"Pagar"})]})})]})}):Object(d.jsx)("div",{className:"cartContainerNull",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"No hay items en el carrito."})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:"Volver a la tienda"})})]})})})},R=(t(62),function(){return Object(d.jsx)("div",{className:"loginContainer",children:Object(d.jsx)("p",{children:"Pr\xf3ximamente..."})})});var T=function(){return Object(d.jsx)(b,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{children:Object(d.jsx)(f,{})}),Object(d.jsx)("section",{children:Object(d.jsx)("div",{children:Object(d.jsxs)(C.c,{children:[Object(d.jsx)(C.a,{path:"/ReactJS",element:Object(d.jsx)(k,{})}),Object(d.jsx)(C.a,{path:"/category/:categoryId",element:Object(d.jsx)(k,{})}),Object(d.jsx)(C.a,{path:"/item/:paramId",element:Object(d.jsx)(F,{})}),Object(d.jsx)(C.a,{path:"/Login",element:Object(d.jsx)(R,{})}),Object(d.jsx)(C.a,{path:"/Cart",element:Object(d.jsx)(A,{})})]})})})]})})})},J=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,64)).then((function(c){var t=c.getCLS,n=c.getFID,i=c.getFCP,r=c.getLCP,j=c.getTTFB;t(e),n(e),i(e),r(e),j(e)}))};j.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),J()}},[[63,1,2]]]);
//# sourceMappingURL=main.a050d8b8.chunk.js.map