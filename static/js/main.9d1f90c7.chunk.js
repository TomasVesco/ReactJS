(this.webpackJsonpprobando=this.webpackJsonpprobando||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(5),i=c.n(n),r=c(39),j=c.n(r),a=(c(45),c(46),c(47),c(20)),s=c(9),d=c(3),o=i.a.createContext([]),b=function(e){var t=e.children,c=Object(n.useState)([]),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(d.jsx)(o.Provider,{value:{productAdd:{item:r},setProductAdd:function(e,t){if(r.some((function(t){return t.id===e.id}))){var c=r.findIndex((function(t){return t.id===e.id})),n=Object(a.a)(r);n[c].count+=t,j(n)}else j((function(t){return[].concat(Object(a.a)(t),[e])}))},totalCount:function(){var e=0;return r.forEach((function(t){e+=t.count})),e},totalPrice:function(){var e=0;return r.forEach((function(t){e+=t.price*t.count})),e},deleteProd:function(e){var t=r.findIndex((function(t){return t.nombre===e})),c=Object(a.a)(r);c.splice(t,1),j(c)},clearCart:function(){j([])}},children:t})},l=o,O=c(23),u=c(24),x=function(){var e=(0,Object(n.useContext)(l).totalCount)();return Object(d.jsx)("div",{className:"cartWidgetContainer",children:Object(d.jsxs)("div",{className:"cartWidget",children:[Object(d.jsx)(O.a,{icon:u.b}),Object(d.jsx)("p",{children:e})]})})},h=c(14),f=function(){return Object(d.jsxs)("div",{className:"navContainer",children:[Object(d.jsx)("div",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:"Tienda"})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:Object(d.jsx)(O.a,{icon:u.a})})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Login",children:"Login"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Cart",children:Object(d.jsx)(x,{})})}),Object(d.jsx)("div",{})]})]})},m=c(25),v=(c(53),c(54),c(55),function(e){var t=e.stock,c=e.onConfirm,i=Object(n.useState)(0),r=Object(s.a)(i,2),j=r[0],a=r[1],o=Object(n.useState)(!0),b=Object(s.a)(o,2),l=b[0],O=b[1];return Object(d.jsx)(d.Fragment,{children:l?Object(d.jsx)("div",{className:"countContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){j>0&&a(j-=1)},children:"-"})}),Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:j})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){j<t&&a(j+=1)},children:"+"})})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){c(j),0!==j&&O(!1)},children:"Agregar al carrito"})})]})}):Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/Cart",className:"finCompra",children:"Terminar la compra"})})})}),p=function(e){var t=e.products,c=Object(n.useContext)(l).setProductAdd;return Object(d.jsxs)("div",{className:"cardL",children:[Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/item/".concat(t.id),children:Object(d.jsx)("img",{src:t.image,alt:""})})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t.name})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:["Precio: $",t.price]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(h.b,{to:"/item/".concat(t.id),children:"Detalle"}),Object(d.jsx)(v,{stock:t.stock,onConfirm:function(e){if(0!==e){var n=t.image,i=t.name,r=t.price,j=t.id;c({image:n,name:i,price:r,id:j,count:e},e)}}})]})]})},g=function(e){var t=e.products;return Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsx)(p,{products:e},e.id)}))})},C=c(12),N=c(15),y=c(40),S=Object(y.a)({apiKey:"AIzaSyDB9Q5HbemxXL4hlTvf8NHtA3UgaULF-Cs",authDomain:"app-react-js.firebaseapp.com",projectId:"app-react-js",storageBucket:"app-react-js.appspot.com",messagingSenderId:"352891839178",appId:"1:352891839178:web:bcef88f7f37ce8313aca33"}),P=Object(N.f)(S),k=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!0),j=Object(s.a)(r,2),a=j[0],o=j[1],b=Object(C.g)().categoryId;return Object(n.useEffect)((function(){return b?(o(!0),Object(N.e)(Object(N.g)(Object(N.b)(P,"products"),Object(N.h)("category","==",b))).then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));o(t)})).finally((function(){o(!1)}))):(o(!0),Object(N.e)(Object(N.b)(P,"products")).then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));i(t)})).finally((function(){o(!1)}))),function(){i([])}}),[b]),Object(d.jsx)(d.Fragment,{children:a?Object(d.jsx)("div",{className:"preloaderL",children:Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{icon:u.a})})}):Object(d.jsxs)("div",{className:"itemListContainer",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(h.b,{to:"/category/cucha",children:"Cucha"}),Object(d.jsx)(h.b,{to:"/category/comedero",children:"Comedero"}),Object(d.jsx)(h.b,{to:"/category/herramienta",children:"Herramienta"})]})}),Object(d.jsx)(g,{products:c})]})})},I=(c(57),c(58),c(59),function(e){var t=e.products;return Object(d.jsxs)("div",{className:"cardD",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.image,alt:""})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t.name})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{children:["Precio: $",t.price]})}),Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:t.description})})]})}),F=function(e){var t=e.products,c=Object(n.useContext)(l).setProductAdd;return Object(d.jsxs)("div",{className:"cardContainer",children:[Object(d.jsx)(I,{products:t},t.id),Object(d.jsx)(v,{stock:t.stock,onConfirm:function(e){if(0!==e){var n=t.image,i=t.name,r=t.price,j=t.id;c({image:n,name:i,price:r,id:j,count:e},e)}}})]})},L=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!0),j=Object(s.a)(r,2),a=j[0],o=j[1],b=Object(C.g)().paramId;return Object(n.useEffect)((function(){o(!0),Object(N.d)(Object(N.c)(P,"products",b)).then((function(e){var t=Object(m.a)({id:e.id},e.data());i(t)})).finally((function(){o(!1)}))}),[b]),Object(d.jsx)("div",{className:"itemDetailContainer",children:a?Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{children:Object(d.jsx)(O.a,{icon:u.a})})}):Object(d.jsx)(F,{products:c})})},A=(c(60),c(61),function(e){var t=e.products,c=t.image,i=t.name,r=t.price,j=t.count,a=Object(n.useContext)(l).deleteProd;return Object(d.jsx)("div",{className:"cardCart",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"cardCartImg",children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:c,alt:""})})}),Object(d.jsxs)("div",{className:"cardCartNombre",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:i})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){return a(i)},children:"Eliminar"})})]}),Object(d.jsx)("div",{className:"cardCartCantidad",children:Object(d.jsxs)("p",{children:["Cantidad: ",j]})}),Object(d.jsx)("div",{className:"cardCartPrecio",children:Object(d.jsxs)("p",{children:["Precio unitario: $",r]})})]})})}),E=function(){var e=Object(n.useContext)(l),t=e.productAdd,c=e.totalPrice,i=e.clearCart,r=t.item,j=Object(n.useState)(!1),a=Object(s.a)(j,2),o=a[0],b=a[1],O=Object(n.useRef)(""),u=Object(n.useRef)(""),x=Object(n.useRef)("");return Object(n.useEffect)((function(){b(!1),0===r.length?b(!1):b(!0)}),[r]),Object(d.jsx)(d.Fragment,{children:o?Object(d.jsx)("div",{className:"cartContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:r.map((function(e,t){return Object(d.jsx)(A,{products:e},"".concat(r.id).concat(t))}))}),Object(d.jsxs)("div",{className:"cartFormContainer",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Informacion de contacto."})}),Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{type:"text",ref:O,placeholder:"Nombre"}),Object(d.jsx)("input",{type:"text",ref:u,placeholder:"Tel\xe9fono"}),Object(d.jsx)("input",{type:"text",ref:x,placeholder:"Mail"})]})]}),Object(d.jsx)("div",{className:"cartPaymentContainer",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Total: $ ",c()]}),Object(d.jsx)(h.b,{to:"/ReactJS",children:"Seguir comprando"}),Object(d.jsx)("button",{onClick:function(){return function(){var e={buyer:{name:O.current.value,phone:u.current.value,email:x.current.value},items:r,total:c()},t=Object(N.i)(P),n=[];e.items.forEach((function(e){Object(N.d)(Object(N.c)(P,"products",e.id)).then((function(c){c.data().stock>=e.count?t.update(Object(N.c)(P,"products",c.id),{stock:c.data().stock-e.count}):n.push(Object(m.a)({id:c.id},c.data()))}))})),0===n.length&&Object(N.a)(Object(N.b)(P,"orders"),e).then((function(e){var c=e.id;t.commit().then((function(){console.log(c)}))})),setTimeout((function(){i()}),1e3)}()},children:"Pagar"})]})})]})}):Object(d.jsx)("div",{className:"cartContainerNull",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"No hay items en el carrito."})}),Object(d.jsx)("div",{children:Object(d.jsx)(h.b,{to:"/ReactJS",children:"Volver a la tienda"})})]})})})},R=(c(62),function(){return Object(d.jsx)("div",{className:"loginContainer",children:Object(d.jsx)("p",{children:"Pr\xf3ximamente..."})})});var T=function(){return Object(d.jsx)(b,{children:Object(d.jsx)(h.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{children:Object(d.jsx)(f,{})}),Object(d.jsx)("section",{children:Object(d.jsx)("div",{children:Object(d.jsxs)(C.c,{children:[Object(d.jsx)(C.a,{path:"/ReactJS",element:Object(d.jsx)(k,{})}),Object(d.jsx)(C.a,{path:"/category/:categoryId",element:Object(d.jsx)(k,{})}),Object(d.jsx)(C.a,{path:"/item/:paramId",element:Object(d.jsx)(L,{})}),Object(d.jsx)(C.a,{path:"/Login",element:Object(d.jsx)(R,{})}),Object(d.jsx)(C.a,{path:"/Cart",element:Object(d.jsx)(E,{})})]})})})]})})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,j=t.getTTFB;c(e),n(e),i(e),r(e),j(e)}))};j.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),J()}},[[63,1,2]]]);
//# sourceMappingURL=main.9d1f90c7.chunk.js.map