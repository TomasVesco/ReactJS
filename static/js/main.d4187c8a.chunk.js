(this.webpackJsonpprobando=this.webpackJsonpprobando||[]).push([[0],{45:function(e,t,c){},46:function(e,t,c){},51:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(5),i=c.n(n),r=c(39),j=c.n(r),o=(c(45),c(46),c(23)),a=c(24),s=(c(51),c(20)),d=c(9),b=c(3),l=i.a.createContext([]),O=function(e){var t=e.children,c=Object(n.useState)([]),i=Object(d.a)(c,2),r=i[0],j=i[1];return Object(b.jsx)(l.Provider,{value:{productoAdd:{item:r},setProductoAgregado:function(e,t){if(r.some((function(t){return t.id===e.id}))){var c=r.findIndex((function(t){return t.id===e.id})),n=Object(s.a)(r);n[c].count+=t,j(n)}else j((function(t){return[].concat(Object(s.a)(t),[e])}))},totalCount:function(){var e=0;return r.forEach((function(t){e+=t.count})),e},totalPrice:function(){var e=0;return r.forEach((function(t){e+=t.precio*t.count})),e},eliminarProd:function(e){var t=r.findIndex((function(t){return t.nombre===e})),c=Object(s.a)(r);c.splice(t,1),j(c)},clearCart:function(){j([])}},children:t})},u=l,x=function(){var e=(0,Object(n.useContext)(u).totalCount)();return Object(b.jsx)("div",{className:"cartWidgetContainer",children:Object(b.jsxs)("div",{className:"cartWidget",children:[Object(b.jsx)(o.a,{icon:a.b}),Object(b.jsx)("p",{children:e})]})})},h=c(14),f=function(){return Object(b.jsxs)("div",{className:"navContainer",children:[Object(b.jsx)("div",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/ReactJS",children:"Tienda"})}),Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/ReactJS",children:Object(b.jsx)(o.a,{icon:a.a})})}),Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/Login",children:"Login"})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/Cart",children:Object(b.jsx)(x,{})})}),Object(b.jsx)("div",{})]})]})},m=c(25),v=(c(53),c(54),c(55),function(e){var t=e.stock,c=e.initial,i=e.onConfirm,r=Object(n.useState)(c),j=Object(d.a)(r,2),o=j[0],a=j[1],s=Object(n.useState)(!0),l=Object(d.a)(s,2),O=l[0],u=l[1];return Object(b.jsx)(b.Fragment,{children:O?Object(b.jsx)("div",{className:"countContainer",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){o>0&&a(o-=1)},children:"-"})}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:o})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){o<t&&a(o+=1)},children:"+"})})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){i(o),0!==o&&u(!1)},children:"Agregar al carrito"})})]})}):Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/Cart",className:"finCompra",children:"Terminar la compra"})})})}),p=function(e){var t=e.productos,c=Object(n.useContext)(u).setProductoAgregado;return Object(b.jsxs)("div",{className:"cardL",children:[Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/item/".concat(t.id),children:Object(b.jsx)("img",{src:t.imagen,alt:""})})}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:t.nombre})}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Precio: $",t.precio]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(h.b,{to:"/item/".concat(t.id),children:"Detalle"}),Object(b.jsx)(v,{stock:t.stock,initial:1,onConfirm:function(e){if(0!==e){var n=t.imagen,i=t.nombre,r=t.precio,j=t.id;c({imagen:n,nombre:i,precio:r,id:j,count:e},e)}}})]})]})},g=function(e){var t=e.productos;return Object(b.jsx)(b.Fragment,{children:t.map((function(e){return Object(b.jsx)(p,{productos:e},e.id)}))})},C=c(12),N=c(15),S=c(40),y=Object(S.a)({apiKey:"AIzaSyDB9Q5HbemxXL4hlTvf8NHtA3UgaULF-Cs",authDomain:"app-react-js.firebaseapp.com",projectId:"app-react-js",storageBucket:"app-react-js.appspot.com",messagingSenderId:"352891839178",appId:"1:352891839178:web:bcef88f7f37ce8313aca33"}),P=Object(N.f)(y),k=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!0),j=Object(d.a)(r,2),s=j[0],l=j[1],O=Object(C.g)().categoryId;return Object(n.useEffect)((function(){return O?(l(!0),Object(N.e)(Object(N.g)(Object(N.b)(P,"productos"),Object(N.h)("categoria","==",O))).then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));i(t)})).catch((function(e){console.log("Error al buscar los productos",e)})).finally((function(){l(!1)}))):(l(!0),Object(N.e)(Object(N.b)(P,"productos")).then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));i(t)})).catch((function(e){console.log("Error buscando los items",e)})).finally((function(){l(!1)}))),function(){i([])}}),[O]),Object(b.jsx)(b.Fragment,{children:s?Object(b.jsx)("div",{className:"preloaderL",children:Object(b.jsx)("div",{children:Object(b.jsx)(o.a,{icon:a.a})})}):Object(b.jsxs)("div",{className:"itemListContainer",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(h.b,{to:"/category/cucha",children:"Cucha"}),Object(b.jsx)(h.b,{to:"/category/comedero",children:"Comedero"}),Object(b.jsx)(h.b,{to:"/category/herramienta",children:"Herramienta"})]})}),Object(b.jsx)(g,{productos:c})]})})},I=(c(57),c(58),function(e){var t=e.productos;return Object(b.jsxs)("div",{className:"cardD",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:t.imagen,alt:""})}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:t.nombre})}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Precio: $",t.precio]})}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:t.descripcion})})]})}),E=(c(59),function(e){var t=e.productos,c=Object(n.useContext)(u).setProductoAgregado;return Object(b.jsxs)("div",{className:"cardContainer",children:[Object(b.jsx)(I,{productos:t},t.id),Object(b.jsx)(v,{stock:t.stock,initial:1,onConfirm:function(e){if(0!==e){var n=t.imagen,i=t.nombre,r=t.precio,j=t.id;c({imagen:n,nombre:i,precio:r,id:j,count:e},e)}}})]})}),F=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(!0),j=Object(d.a)(r,2),s=j[0],l=j[1],O=Object(C.g)().paramId;return Object(n.useEffect)((function(){l(!0),Object(N.d)(Object(N.c)(P,"productos",O)).then((function(e){var t=Object(m.a)({id:e.id},e.data());i(t)})).catch((function(e){console.log("Error al buscar los productos",e)})).finally((function(){l(!1)}))}),[O]),Object(b.jsx)("div",{className:"itemDetailContainer",children:s?Object(b.jsx)("div",{className:"preloader",children:Object(b.jsx)("div",{children:Object(b.jsx)(o.a,{icon:a.a})})}):Object(b.jsx)(E,{productos:c})})},L=(c(60),c(61),function(e){var t=e.productos,c=t.imagen,i=t.nombre,r=t.precio,j=t.count,o=Object(n.useContext)(u).eliminarProd;return Object(b.jsx)("div",{className:"cardCart",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"cardCartImg",children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:c,alt:""})})}),Object(b.jsxs)("div",{className:"cardCartNombre",children:[Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:i})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{onClick:function(){return o(i)},children:"Eliminar"})})]}),Object(b.jsx)("div",{className:"cardCartCantidad",children:Object(b.jsxs)("p",{children:["Cantidad: ",j]})}),Object(b.jsx)("div",{className:"cardCartPrecio",children:Object(b.jsxs)("p",{children:["Precio unitario: $",r]})})]})})}),A=function(){var e=Object(n.useContext)(u),t=e.productoAdd,c=e.totalPrice,i=e.clearCart,r=t.item,j=Object(n.useState)(!1),o=Object(d.a)(j,2),a=o[0],s=o[1],l=Object(n.useState)(!1),O=Object(d.a)(l,2),x=(O[0],O[1]),f=Object(n.useRef)(""),v=Object(n.useRef)(""),p=Object(n.useRef)("");return Object(n.useEffect)((function(){s(!1),0===r.length?s(!1):s(!0)}),[r]),Object(b.jsx)(b.Fragment,{children:a?Object(b.jsx)("div",{className:"cartContainer",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:r.map((function(e,t){return Object(b.jsx)(L,{productos:e},"".concat(r.id).concat(t))}))}),Object(b.jsxs)("div",{className:"cartFormContainer",children:[Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"Informacion de contacto."})}),Object(b.jsxs)("form",{children:[Object(b.jsx)("input",{type:"text",ref:f,placeholder:"Nombre"}),Object(b.jsx)("input",{type:"text",ref:v,placeholder:"Tel\xe9fono"}),Object(b.jsx)("input",{type:"text",ref:p,placeholder:"Mail"})]})]}),Object(b.jsx)("div",{className:"cartPaymentContainer",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Total: $ ",c()]}),Object(b.jsx)(h.b,{to:"/ReactJS",children:"Seguir comprando"}),Object(b.jsx)("button",{onClick:function(){return function(){x(!0);var e={buyer:{name:f.current.value,phone:v.current.value,email:p.current.value},items:r,total:c()},t=Object(N.i)(P),n=[];e.items.forEach((function(e){Object(N.d)(Object(N.c)(P,"productos",e.id)).then((function(c){c.data().stock>=e.count?t.update(Object(N.c)(P,"productos",c.id),{stock:c.data().stock-e.count}):(n.push(Object(m.a)({id:c.id},c.data())),console.log(n))}))})),0===n.length&&Object(N.a)(Object(N.b)(P,"orders"),e).then((function(e){var c=e.id;t.commit().then((function(){console.log(c)}))})),setTimeout((function(){i(),x(!1)}),1e3)}()},children:"Pagar"})]})})]})}):Object(b.jsx)("div",{className:"cartContainerNull",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"No hay items en el carrito."})}),Object(b.jsx)("div",{children:Object(b.jsx)(h.b,{to:"/ReactJS",children:"Volver a la tienda"})})]})})})},R=(c(62),function(){return Object(b.jsx)("div",{className:"loginContainer",children:Object(b.jsx)("p",{children:"Pr\xf3ximamente..."})})});var T=function(){return Object(b.jsx)(O,{children:Object(b.jsx)(h.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("header",{children:Object(b.jsx)(f,{})}),Object(b.jsx)("section",{children:Object(b.jsx)("div",{children:Object(b.jsxs)(C.c,{children:[Object(b.jsx)(C.a,{path:"/ReactJS",element:Object(b.jsx)(k,{})}),Object(b.jsx)(C.a,{path:"/category/:categoryId",element:Object(b.jsx)(k,{})}),Object(b.jsx)(C.a,{path:"/item/:paramId",element:Object(b.jsx)(F,{})}),Object(b.jsx)(C.a,{path:"/Login",element:Object(b.jsx)(R,{})}),Object(b.jsx)(C.a,{path:"/Cart",element:Object(b.jsx)(A,{})})]})})})]})})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,j=t.getTTFB;c(e),n(e),i(e),r(e),j(e)}))};j.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root")),J()}},[[63,1,2]]]);
//# sourceMappingURL=main.d4187c8a.chunk.js.map